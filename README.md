# AI Avatars Stream — MVP

Проект: автономные AI‑агенты с аватарами ведут научную дискуссию в прямом эфире (OBS → RTMP). Цель — быстрый, стабильный MVP «за 1–2 дня».

## Что уже сделано
- Чекпоинт 1 готов (OBS‑only, ручное аудио): базовая сцена, `AUDIO_PLAYER`, ручное проигрывание mp3 в OBS подтверждено.
- Зафиксирована архитектура MVP в `docs/arch.md`.
- Сформирован подробный план работ по чекпоинтам в `docs/plan.md`.
- Реализован OBS WebSocket клиент `src/obs_client.py` + `self_check()` (сцены, медиа‑файл, перезапуск).
- Реализован базовый оркестратор `src/orchestrator.py`: очередь, переключение сцен, воспроизведение preloaded mp3, запись транскрипта.
- Ожидание длительности трека синхронизировано через `ffprobe` (устойчиво к глюкам статуса OBS).

## Текущий статус
- Чекпоинт 1: готов.
- Чекпоинт 2: готов (OBS WebSocket контроль сцен/медиа подтверждён).
- Чекпоинт 3: базовая оркестрация работает; нужен 5‑мин прогон.
- Чекпоинт 4: в работе.

## Содержимое репозитория
- `docs/arch.md` — архитектура MVP и принятые решения.
- `docs/plan.md` — план работ по чекпоинтам.
- `docs/tz.docx` — исходное ТЗ.
- `src/obs_client.py` — клиент OBS WebSocket и `self_check()`.
- `src/orchestrator.py` — оркестратор для preloaded mp3.

## Дефолты MVP (зафиксировано)
- OBS проигрывает аудио через **Media Source**.
- Один аудио‑источник: `AUDIO_PLAYER`.
- `queue_floor=2`.
- Hot‑reload темы каждые 2–5 минут (`TOPIC`/`topic.txt`).
- Контекст: последние 10–12 реплик + краткий summary.

## Следующие шаги
См. `docs/plan.md` — чекпоинты 2–4 с задачами и проверками.
